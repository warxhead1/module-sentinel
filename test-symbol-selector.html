<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Symbol Selector Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: white;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: 300;
        }
        
        .button {
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid rgba(78, 205, 196, 0.5);
            color: #4ecdc4;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px;
            transition: all 0.2s ease;
        }
        
        .button:hover {
            background: rgba(78, 205, 196, 0.3);
            transform: translateY(-2px);
        }
        
        .features {
            list-style: none;
            padding: 0;
            margin: 30px 0;
        }
        
        .features li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }
        
        .features li:before {
            content: "✨";
            position: absolute;
            left: 0;
        }
        
        :root {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --card-bg: rgba(255, 255, 255, 0.1);
            --card-border: rgba(255, 255, 255, 0.2);
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --text-muted: #888888;
            --primary-accent: #9370db;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Enhanced Symbol Selector</h1>
        
        <p>This page demonstrates the new type filtering functionality added to the symbol selector modal.</p>
        
        <h3>New Features:</h3>
        <ul class="features">
            <li><strong>Type Filter Dropdown:</strong> Filter symbols by type (method, function, class, etc.)</li>
            <li><strong>Dynamic Counts:</strong> Shows count of symbols for each type</li>
            <li><strong>Smart Search:</strong> Combines text search with type filtering</li>
            <li><strong>Better UX:</strong> Clear visual indication of available symbol types</li>
        </ul>
        
        <h3>Available Symbol Types:</h3>
        <div id="symbol-types">
            <p>Loading symbol types...</p>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <button class="button" onclick="openSymbolSelector()">Test Symbol Selector</button>
            <button class="button" onclick="openMethodsOnly()">Test Methods Only</button>
            <button class="button" onclick="openClassesOnly()">Test Classes Only</button>
        </div>
        
        <div id="selected-symbol" style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; display: none;">
            <h4>Selected Symbol:</h4>
            <pre id="symbol-details"></pre>
        </div>
    </div>

    <script type="module">
        // Import the enhanced symbol selector
        import('./dist/dashboard/components/symbol-selector-modal.js').then(module => {
            console.log('Symbol selector loaded successfully');
        }).catch(error => {
            console.error('Failed to load symbol selector:', error);
            document.getElementById('symbol-types').innerHTML = `
                <p style="color: #ff6b6b;">⚠️ Failed to load symbol selector. Make sure the server is running and the component is built.</p>
                <p><code>npm run build && npm run dev</code></p>
            `;
        });
        
        // Mock symbol types for display
        const mockSymbolTypes = [
            { kind: 'method', count: 1196 },
            { kind: 'function', count: 393 },
            { kind: 'variable', count: 173 },
            { kind: 'class', count: 78 },
            { kind: 'file', count: 59 },
            { kind: 'external_module', count: 38 },
            { kind: 'constant', count: 12 },
            { kind: 'field', count: 10 },
            { kind: 'constructor', count: 9 },
            { kind: 'namespace', count: 8 },
            { kind: 'property', count: 2 },
            { kind: 'interface', count: 1 }
        ];
        
        // Display symbol types
        const typesDiv = document.getElementById('symbol-types');
        typesDiv.innerHTML = mockSymbolTypes.map(type => 
            `<span class="button" style="margin: 5px; cursor: default;">
                ${type.kind}: ${type.count}
            </span>`
        ).join('');
        
        // Global functions for testing
        window.openSymbolSelector = function() {
            alert('This would open the enhanced symbol selector with all types available');
        };
        
        window.openMethodsOnly = function() {
            alert('This would open the symbol selector filtered to methods only');
        };
        
        window.openClassesOnly = function() {
            alert('This would open the symbol selector filtered to classes only');
        };
    </script>
</body>
</html>